<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Action Gravity — Sovereign OS</title>
<meta name="description" content="Friction scales with irreversibility. Five levels of action approval, from instant read to 30-day undo on deletion.">
<link rel="canonical" href="https://sovereign-os.org/detail-action-gravity.html">
<meta property="og:type" content="website">
<meta property="og:url" content="https://sovereign-os.org/detail-action-gravity.html">
<meta property="og:title" content="Action Gravity — Sovereign OS">
<meta property="og:description" content="Friction scales with irreversibility. Five levels of action approval, from instant read to 30-day undo on deletion.">
<meta property="og:image" content="https://sovereign-os.org/logo-static.svg">
<meta property="og:site_name" content="Sovereign OS">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Action Gravity — Sovereign OS">
<meta name="twitter:description" content="Friction scales with irreversibility. Five levels of action approval, from instant read to 30-day undo on deletion.">
<meta name="twitter:image" content="https://sovereign-os.org/logo-static.svg">
<style>
/* ========== RESET & BASE ========== */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --c-bg: #0c0e13;
  --c-bg-alt: #13161d;
  --c-bg-card: #181c25;
  --c-border: #2a2f3a;
  --c-border-subtle: #1e222c;
  --c-text: #e2e4e9;
  --c-text-dim: #a1a5b2;
  --c-text-bright: #ffffff;
  --c-accent: #60A5FA;
  --c-accent-dim: #3b82f6;
  --c-accent-glow: rgba(96, 165, 250, 0.15);
  --c-owned: #3ecf8e;
  --c-owned-dim: rgba(62, 207, 142, 0.12);
  --c-external: #f59e42;
  --c-external-dim: rgba(245, 158, 66, 0.12);
  --c-danger: #ef5350;
  --c-danger-dim: rgba(239, 83, 80, 0.12);
  --c-chat-bg: #10131a;
  --font-sans: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
  --font-mono: "JetBrains Mono", "Fira Code", "Consolas", monospace;
  --radius: 6px;
  --radius-lg: 10px;
  --max-w: 1120px;
  --header-h: 60px;
}

html { scroll-behavior: smooth; font-size: 16px; }
body {
  font-family: var(--font-sans);
  background: var(--c-bg);
  color: var(--c-text);
  line-height: 1.65;
  -webkit-font-smoothing: antialiased;
}

a { color: var(--c-accent); text-decoration: none; }
a:hover { text-decoration: underline; }
/* External link indicator (WCAG 3.2.4) */
footer a[target="_blank"]::after,
main a[target="_blank"]::after { content: " ↗"; font-size: 0.75em; }
a:focus-visible, button:focus-visible, input:focus-visible, textarea:focus-visible {
  outline: 2px solid var(--c-accent);
  outline-offset: 2px;
}

img { max-width: 100%; display: block; }
button { cursor: pointer; font-family: inherit; }

.sr-only {
  position: absolute; width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden;
  clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}

/* ========== SKIP LINK (WCAG) ========== */
.skip-link {
  position: absolute; top: -100%; left: 50%; transform: translateX(-50%);
  background: var(--c-accent); color: #000; padding: 8px 20px;
  border-radius: var(--radius); font-weight: 600; z-index: 9999;
}
.skip-link:focus { top: 10px; }

/* ========== HEADER ========== */
header {
  position: fixed; top: 0; left: 0; right: 0; z-index: 100;
  height: var(--header-h);
  background: rgba(12, 14, 19, 0.85);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--c-border-subtle);
  display: flex; align-items: center;
}
.header-inner {
  max-width: var(--max-w); margin: 0 auto; padding: 0 24px;
  width: 100%; display: flex; align-items: center; justify-content: space-between;
}
.back-link {
  color: var(--c-accent); padding: 6px 14px; border-radius: var(--radius);
  font-size: 0.875rem; font-weight: 500; transition: color 0.15s, background 0.15s;
  display: flex; align-items: center; gap: 6px;
}
.back-link:hover, .back-link:focus-visible {
  background: rgba(255,255,255,0.05); text-decoration: none;
}

.logo {
  font-size: 1.15rem; font-weight: 700; color: var(--c-text-bright);
  display: flex; align-items: center; gap: 10px; letter-spacing: -0.02em;
}
.logo-mark {
  width: 28px; height: 28px;
  display: flex; align-items: center; justify-content: center;
}
.logo-mark img { width: 28px; height: 28px; }

nav { display: flex; align-items: center; gap: 6px; }
nav a {
  color: var(--c-text-dim); padding: 6px 14px; border-radius: var(--radius);
  font-size: 0.875rem; font-weight: 500; transition: color 0.15s, background 0.15s;
}
nav a:hover, nav a:focus-visible {
  color: var(--c-text); background: rgba(255,255,255,0.05); text-decoration: none;
}
.nav-cta {
  background: var(--c-accent) !important; color: #000 !important;
  font-weight: 600; margin-left: 8px;
}
.nav-cta:hover { background: #5eadff !important; }

.nav-toggle {
  display: none; background: none; border: none; color: var(--c-text);
  padding: 8px; font-size: 1.4rem; line-height: 1;
}

/* ========== PAGE TITLE ========== */
.page-title {
  margin-top: var(--header-h);
  padding: 60px 24px;
  background: var(--c-bg);
  position: relative; overflow: hidden;
}
.page-title::before {
  content: ""; position: absolute; inset: 0;
  background: radial-gradient(ellipse 50% 40% at 50% 30%, rgba(239, 83, 80, 0.06), transparent);
  pointer-events: none;
}
.page-title-inner {
  max-width: var(--max-w); margin: 0 auto;
  position: relative; z-index: 1;
}
.page-title h1 {
  font-size: clamp(2rem, 4vw, 3rem); font-weight: 800;
  color: var(--c-text-bright); letter-spacing: -0.02em; margin-bottom: 12px;
}
.page-subtitle {
  font-size: 1.05rem; color: var(--c-text-dim); max-width: 700px;
}

/* ========== MAIN CONTENT ========== */
main {
  max-width: var(--max-w); margin: 0 auto; padding: 60px 24px;
}

section {
  margin-bottom: 80px;
}

.section-label {
  font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em;
  color: var(--c-accent); font-weight: 700; margin-bottom: 12px;
}

.section-heading {
  font-size: 1.6rem; font-weight: 800; color: var(--c-text-bright);
  margin-bottom: 16px; letter-spacing: -0.01em;
}

.section-description {
  color: var(--c-text-dim); font-size: 1rem; line-height: 1.7;
  margin-bottom: 32px; max-width: 750px;
}

/* ========== TIER 1: CONCEPTUAL ========== */
.tier-1-intro {
  background: var(--c-bg-card); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius-lg); padding: 40px;
  margin-bottom: 40px;
}
.tier-1-intro h2 {
  font-size: 1.3rem; font-weight: 700; color: var(--c-text-bright);
  margin-bottom: 16px;
}
.tier-1-intro p {
  color: var(--c-text-dim); line-height: 1.8; margin-bottom: 12px;
}
.tier-1-intro p:last-child { margin-bottom: 0; }

.concept-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 24px;
  margin-top: 32px;
}
.concept-card {
  background: var(--c-bg-alt); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius); padding: 24px;
}
.concept-card h3 {
  font-size: 0.95rem; font-weight: 700; color: var(--c-text-bright);
  margin-bottom: 8px;
}
.concept-card p {
  font-size: 0.9rem; color: var(--c-text-dim); line-height: 1.6;
}

/* ========== TIER 2: FIVE LEVELS DETAILED ========== */
.levels-container {
  display: flex; flex-direction: column; gap: 20px;
  margin-bottom: 40px;
}

.level-card {
  background: var(--c-bg-card); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius-lg); padding: 32px;
  position: relative; overflow: hidden;
}
.level-card::before {
  content: ""; position: absolute; top: 0; left: 0; right: 0; height: 4px;
  background: var(--c-border-subtle);
}
.level-card[data-level="0"]::before { background: var(--c-text-dim); }
.level-card[data-level="1"]::before { background: var(--c-accent); }
.level-card[data-level="2"]::before { background: var(--c-owned); }
.level-card[data-level="3"]::before { background: var(--c-external); }
.level-card[data-level="4"]::before { background: var(--c-danger); }

.level-header {
  display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 24px;
  margin-bottom: 24px; align-items: start;
}
.level-num {
  font-family: var(--font-mono); font-weight: 700; font-size: 2rem;
  color: var(--c-border);
}
.level-card[data-level="0"] .level-num { color: var(--c-text-dim); }
.level-card[data-level="1"] .level-num { color: var(--c-accent); }
.level-card[data-level="2"] .level-num { color: var(--c-owned); }
.level-card[data-level="3"] .level-num { color: var(--c-external); }
.level-card[data-level="4"] .level-num { color: var(--c-danger); }

.level-title {
  display: flex; flex-direction: column;
}
.level-name {
  font-size: 1.3rem; font-weight: 700; color: var(--c-text-bright);
  margin-bottom: 4px;
}
.level-examples {
  font-size: 0.85rem; color: var(--c-text-dim);
}

.level-status {
  text-align: right;
}
.level-badge {
  display: inline-block; background: var(--c-bg-alt); border: 1px solid var(--c-border-subtle);
  border-radius: 20px; padding: 6px 16px; font-size: 0.8rem; font-weight: 600;
  color: var(--c-text-dim);
}
.level-card[data-level="0"] .level-badge { background: rgba(161, 165, 178, 0.08); color: var(--c-text-dim); }
.level-card[data-level="1"] .level-badge { background: var(--c-accent-glow); color: var(--c-accent); }
.level-card[data-level="2"] .level-badge { background: var(--c-owned-dim); color: var(--c-owned); }
.level-card[data-level="3"] .level-badge { background: var(--c-external-dim); color: var(--c-external); }
.level-card[data-level="4"] .level-badge { background: var(--c-danger-dim); color: var(--c-danger); }

.level-description {
  font-size: 0.95rem; color: var(--c-text-dim); line-height: 1.7;
  margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid var(--c-border-subtle);
}

.level-details {
  display: grid; grid-template-columns: 1fr 1fr; gap: 20px;
}
.level-detail {
  background: var(--c-bg-alt); border-radius: var(--radius); padding: 16px;
}
.level-detail-label {
  font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.06em;
  font-weight: 700; color: var(--c-text-dim); margin-bottom: 8px;
}
.level-detail-value {
  font-size: 0.95rem; color: var(--c-text-bright); font-weight: 600;
}

.level-progress {
  margin-top: 24px; padding-top: 20px; border-top: 1px solid var(--c-border-subtle);
  display: flex; align-items: center; gap: 12px;
}
.level-progress-label {
  font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em;
  font-weight: 700; color: var(--c-text-dim);
}
.level-progress-bar {
  flex: 1; height: 6px; background: var(--c-border-subtle); border-radius: 3px;
  overflow: hidden;
}
.level-progress-fill {
  height: 100%; background: var(--c-border-subtle); border-radius: 3px;
  transition: background 0.3s;
}
.level-card[data-level="0"] .level-progress-fill { background: var(--c-text-dim); width: 5%; }
.level-card[data-level="1"] .level-progress-fill { background: var(--c-accent); width: 25%; }
.level-card[data-level="2"] .level-progress-fill { background: var(--c-owned); width: 50%; }
.level-card[data-level="3"] .level-progress-fill { background: var(--c-external); width: 75%; }
.level-card[data-level="4"] .level-progress-fill { background: var(--c-danger); width: 100%; }
.level-progress-percent {
  font-size: 0.8rem; color: var(--c-text-dim); font-weight: 600;
  min-width: 32px; text-align: right;
}

/* ========== TRUST CALIBRATION ========== */
.trust-section {
  background: var(--c-bg-card); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius-lg); padding: 40px;
  margin-bottom: 40px;
}
.trust-section h2 {
  font-size: 1.3rem; font-weight: 700; color: var(--c-text-bright);
  margin-bottom: 16px;
}
.trust-intro {
  color: var(--c-text-dim); margin-bottom: 24px; line-height: 1.8;
}

.trust-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 24px;
}
.trust-card {
  background: var(--c-bg-alt); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius); padding: 20px;
}
.trust-card-title {
  font-size: 0.95rem; font-weight: 700; color: var(--c-text-bright);
  margin-bottom: 12px; display: flex; align-items: center; gap: 8px;
}
.trust-icon {
  width: 24px; height: 24px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 0.9rem; flex-shrink: 0;
}
.trust-icon.threshold { background: var(--c-owned-dim); color: var(--c-owned); }
.trust-icon.reset { background: var(--c-danger-dim); color: var(--c-danger); }
.trust-icon.persistence { background: var(--c-accent-glow); color: var(--c-accent); }
.trust-icon.levels { background: var(--c-external-dim); color: var(--c-external); }

.trust-content {
  font-size: 0.85rem; color: var(--c-text-dim); line-height: 1.6;
}

/* ========== HARD BARRIERS ========== */
.barriers-section {
  background: var(--c-bg-card); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius-lg); padding: 40px;
  margin-bottom: 40px;
}
.barriers-section h2 {
  font-size: 1.3rem; font-weight: 700; color: var(--c-text-bright);
  margin-bottom: 16px;
}
.barriers-intro {
  color: var(--c-text-dim); margin-bottom: 24px; line-height: 1.8;
}

.barriers-list {
  display: flex; flex-direction: column; gap: 16px;
}
.barrier-item {
  background: var(--c-bg-alt); border-left: 3px solid;
  border-radius: var(--radius); padding: 16px; display: flex; gap: 16px;
}
.barrier-item[data-level="level4"] { border-color: var(--c-external); }
.barrier-item[data-level="level5"] { border-color: var(--c-danger); }

.barrier-icon {
  width: 32px; height: 32px; border-radius: 6px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1rem; flex-shrink: 0;
}
.barrier-item[data-level="level4"] .barrier-icon { background: var(--c-external-dim); }
.barrier-item[data-level="level5"] .barrier-icon { background: var(--c-danger-dim); }

.barrier-content h3 {
  font-size: 0.95rem; font-weight: 700; color: var(--c-text-bright);
  margin-bottom: 4px;
}
.barrier-content p {
  font-size: 0.85rem; color: var(--c-text-dim);
}

/* ========== TIER 3: CODE & MAPPINGS ========== */
.code-section {
  background: var(--c-bg-card); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius-lg); padding: 40px;
  margin-bottom: 40px;
}
.code-section h2 {
  font-size: 1.3rem; font-weight: 700; color: var(--c-text-bright);
  margin-bottom: 24px;
}

.code-block {
  background: var(--c-bg-alt); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius); padding: 20px;
  font-family: var(--font-mono); font-size: 0.85rem; line-height: 1.8;
  color: var(--c-text-dim); overflow-x: auto;
  margin-bottom: 24px;
}
.code-block-label {
  font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.06em;
  font-weight: 700; color: var(--c-accent); margin-bottom: 12px;
}
.code-keyword { color: var(--c-accent); }
.code-type { color: var(--c-owned); }
.code-value { color: var(--c-external); }
.code-comment { color: var(--c-text-dim); opacity: 0.7; }

.mapping-table {
  width: 100%; border-collapse: collapse;
  margin-bottom: 24px;
}
.mapping-table th {
  background: var(--c-bg-alt); border: 1px solid var(--c-border-subtle);
  padding: 12px 16px; text-align: left; font-size: 0.85rem;
  font-weight: 700; color: var(--c-text-bright); letter-spacing: 0.02em;
}
.mapping-table td {
  border: 1px solid var(--c-border-subtle);
  padding: 12px 16px; font-size: 0.85rem; color: var(--c-text-dim);
}
.mapping-table tr:nth-child(even) { background: rgba(255,255,255,0.01); }
.mapping-table code {
  font-family: var(--font-mono); background: var(--c-bg);
  padding: 2px 6px; border-radius: 3px; color: var(--c-text);
}

/* ========== FLOW DIAGRAM ========== */
.flow-section {
  background: var(--c-bg-card); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius-lg); padding: 40px;
  margin-bottom: 40px;
}
.flow-section h2 {
  font-size: 1.3rem; font-weight: 700; color: var(--c-text-bright);
  margin-bottom: 24px;
}

.flow-diagram {
  background: var(--c-bg-alt); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius); padding: 32px; display: flex;
  flex-direction: column; gap: 12px;
}
.flow-step {
  display: flex; align-items: center; gap: 16px; padding: 12px;
  background: rgba(74, 158, 255, 0.05); border: 1px solid var(--c-border-subtle);
  border-radius: var(--radius);
}
.flow-step-num {
  width: 32px; height: 32px; border-radius: 50%;
  background: var(--c-accent); color: #000;
  display: flex; align-items: center; justify-content: center;
  font-weight: 700; font-size: 0.9rem; flex-shrink: 0;
}
.flow-step-text {
  flex: 1; font-size: 0.9rem; color: var(--c-text); font-weight: 500;
}
.flow-arrow {
  height: 20px; display: flex; align-items: center;
  color: var(--c-border); font-weight: 700; font-size: 1.2rem;
}

/* ========== FOOTER ========== */
footer {
  border-top: 1px solid var(--c-border-subtle); padding: 40px 24px;
  font-size: 0.82rem; color: var(--c-text-dim); margin-top: 80px;
}
.footer-inner {
  max-width: var(--max-w); margin: 0 auto;
  display: flex; justify-content: space-between; align-items: center;
  flex-wrap: wrap; gap: 16px;
}
.footer-links { display: flex; gap: 20px; }
.footer-links a { color: var(--c-text-dim); }
.footer-links a:hover { color: var(--c-text); }

/* ========== RESPONSIVE ========== */
@media (max-width: 900px) {
  .concept-grid, .trust-grid, .level-details { grid-template-columns: 1fr; }
  .level-header { grid-template-columns: 1fr; gap: 12px; }
  .level-status { text-align: left; }
}

@media (max-width: 640px) {
  .page-title { padding: 40px 16px; }
  .page-title h1 { font-size: 1.8rem; }
  main { padding: 40px 16px; }
  .tier-1-intro, .trust-section, .barriers-section, .code-section, .flow-section {
    padding: 24px 16px;
  }
  .section-heading { font-size: 1.3rem; }
  .flow-diagram { padding: 16px; gap: 8px; }
}

@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}
</style>
</head>
<body>

<a class="skip-link" href="#main">Skip to main content</a>

<!-- ========== HEADER ========== -->
<header role="banner">
  <div class="header-inner">
    <a href="index.html" class="back-link" aria-label="Back to homepage">
      ← Back to Overview
    </a>
    <a href="index.html" class="logo" aria-label="Sovereign OS home">
      <span class="logo-mark" aria-hidden="true"><img src="logo-icon.svg" alt=""></span>
      Sovereign OS
    </a>
    <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false" onclick="document.querySelector('nav').classList.toggle('open'); this.setAttribute('aria-expanded', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true')">☰</button>
    <nav role="navigation" aria-label="Main navigation">
      <a href="index.html#features">Features</a>
      <a href="index.html#architecture">Architecture</a>
      <a href="index.html#security">Security</a>
      <a href="https://github.com/sovereign-os/sovereign" class="nav-cta" target="_blank" rel="noopener">GitHub</a>
    </nav>
  </div>
</header>

<!-- ========== PAGE TITLE ========== -->
<div class="page-title">
  <div class="page-title-inner">
    <h1>Action Gravity</h1>
    <p class="page-subtitle">
      Friction scales with irreversibility. The more permanent an action, the more confirmation it requires.
      Reading documents is instant. Deleting them requires explicit approval and a 30-day undo window.
    </p>
  </div>
</div>

<!-- ========== MAIN CONTENT ========== -->
<main id="main" role="main">
<div class="content-inner">

<!-- ========== PAGE HEADER ========== -->
<div class="page-header">
  <h1>Action Gravity</h1>
  <p class="subtitle">
    Friction scales with irreversibility. The more permanent an action, the more confirmation it requires.
  </p>
</div>

<!-- ========== TIER 1: ELEVATOR PITCH ========== -->
<section class="tier-section tier-1">
  <div class="tier-header">
    <span class="tier-badge">1</span>
    <div>
      <div class="tier-label">Tier 1: The Elevator Pitch</div>
      <div class="tier-subtext">10-second read</div>
    </div>
  </div>

  <div class="tier-1-content">
    <p>
      Not all actions are equal. In Sovereign OS, friction scales with irreversibility. Reading documents is instant.
      Editing requires conversational confirmation. Deleting triggers a modal with a 30-day undo window.
      This is Action Gravity: friction that matches consequence.
    </p>
  </div>
</section>

<!-- ========== TIER 2: HOW IT WORKS ========== -->
<section class="tier-section tier-2">
  <div class="tier-header">
    <span class="tier-badge">2</span>
    <div>
      <div class="tier-label">Tier 2: How It Works</div>
      <div class="tier-subtext">1–3 minute read</div>
    </div>
  </div>

  <div class="tier-2-content">

    <details open>
      <summary>The Five Levels</summary>
      <div class="details-content">
        <div class="concept-block">
          <h3>From Observe to Destruct</h3>
          <p>
            Every action in Sovereign OS maps to one of five levels, each with different confirmation requirements:
          </p>
          <ul class="concept-list">
            <li><strong>Level 0 — Observe:</strong> Read documents, search, list threads. No confirmation needed. Instant.</li>
            <li><strong>Level 1 — Annotate:</strong> Tag documents, bookmark pages. Toast notification only.</li>
            <li><strong>Level 2 — Modify:</strong> Create, edit, rename documents. Conversational confirmation. Auto-approve after 5 consecutive approvals (per-action trust).</li>
            <li><strong>Level 3 — Transmit:</strong> Export, share, send email. Explicit dialog. Never auto-approves.</li>
            <li><strong>Level 4 — Destruct:</strong> Delete, purge. Modal dialog with 30-day undo window. Never auto-approves.</li>
          </ul>
          <p style="margin-top: 12px;">
            Friction increases with consequence. Reading is frictionless. Deletion requires active confirmation.
          </p>
        </div>
      </div>
    </details>

    <details open>
      <summary>Trust Calibration: Per-Action, Not Global</summary>
      <div class="details-content">
        <div class="concept-block">
          <h3>Learning Your Preferences</h3>
          <p>
            Sovereign OS doesn't ask the same question twice. It learns which actions you approve frequently and stops asking:
          </p>
          <ul class="concept-list">
            <li><strong>Consecutive approvals tracked:</strong> Each action type (e.g., "edit document") has its own counter.</li>
            <li><strong>Threshold of 5:</strong> After 5 consecutive approvals for the same action, Sovereign OS stops asking and auto-executes.</li>
            <li><strong>Rejection resets counter:</strong> Say "no" once and the counter resets to zero. You must re-approve 5 times.</li>
            <li><strong>Persistent in trust_state.json:</strong> Trust decisions persist across sessions. Your preferences are remembered.</li>
            <li><strong>Levels 3–4 never auto-approve:</strong> Transmit and Destruct always require explicit confirmation, no matter how many times you've approved.</li>
          </ul>
          <p style="margin-top: 12px;">
            This respects both safety (destructive actions require deliberation) and usability (you don't re-confirm routine edits).
          </p>
        </div>
      </div>
    </details>

    <details open>
      <summary>Hard Barriers: Code, Not Prompts</summary>
      <div class="details-content">
        <div class="concept-block">
          <h3>Enforcement at the Execution Layer</h3>
          <p>
            These rules aren't encoded in the AI system prompt. They're enforced by the code that executes actions:
          </p>
          <ul class="concept-list">
            <li><strong>Transmit never auto-approves:</strong> <code>requires_user_confirmation</code> hardcoded for Level 3+, regardless of trust state.</li>
            <li><strong>Destruct never auto-approves:</strong> Modal dialog shown every time a Level 4 action is attempted.</li>
            <li><strong>30-second timeout:</strong> If user doesn't confirm within 30 seconds, action is cancelled. Prevents accidental approval via timeout.</li>
            <li><strong>Undo window:</strong> All deletions stored for 30 days before permanent purge. User can restore anytime in that window.</li>
          </ul>
          <p style="margin-top: 12px;">
            No prompt injection or jailbreak can bypass these rules. They're structural constraints, not behavioral guidelines.
          </p>
        </div>
      </div>
    </details>

    <details open>
      <summary>How AI Uses Action Gravity</summary>
      <div class="details-content">
        <div class="concept-block">
          <h3>Chat System Prompt Encodes Gravity</h3>
          <p>
            The AI's system prompt educates it about Action Gravity:
          </p>
          <ul class="concept-list">
            <li><strong>Intent → Action Type → Gravity Level:</strong> The AI learns to map user intents ("delete this file") to action types (<code>delete_document</code>) to gravity levels (Level 4).</li>
            <li><strong>Proposal pattern for Level 2+:</strong> "For Level 2+ actions, propose with specifics and ask for confirmation." E.g., "Should I edit the document called 'Q4 Plan' to add the new budget?'"</li>
            <li><strong>No execution without approval:</strong> The AI generates proposals but doesn't execute Level 2+ actions until the user confirms.</li>
            <li><strong>Explain consequences:</strong> For Transmit and Destruct, the AI explains what will happen ("This will delete the document permanently" or "This will share the file with all users in the organization").</li>
          </ul>
          <p style="margin-top: 12px;">
            The AI becomes a thoughtful assistant, not a blind executor.
          </p>
        </div>
      </div>
    </details>

  </div>
</section>

<!-- ========== TIER 3: DEEP DIVE ========== -->
<section class="tier-section tier-3">
  <div class="tier-header">
    <span class="tier-badge">3</span>
    <div>
      <div class="tier-label">Tier 3: Deep Dive</div>
      <div class="tier-subtext">5+ minute read</div>
    </div>
  </div>

  <div class="tier-3-content">

    <div class="deep-section">
      <h3>ActionLevel Enum (sovereign-core/src/security.rs:8–21)</h3>
      <p>
        The five levels are defined as an enum in the core library, ensuring type-safety and consistency across the codebase:
      </p>
      <div class="code-block"><code>pub enum ActionLevel {
    Observe = 0,      // Read-only; no confirmation
    Annotate = 1,     // Tag/bookmark; toast notification
    Modify = 2,       // Create/edit/rename; conversational confirmation
    Transmit = 3,     // Export/share; explicit dialog, never auto-approve
    Destruct = 4,     // Delete/purge; modal + 30-day undo, never auto-approve
}

impl ActionLevel {
    pub fn requires_user_confirmation(&self) -> bool {
        *self as u8 >= 2
    }

    pub fn can_auto_approve(&self) -> bool {
        *self as u8 <= 2  // Levels 0–2 only
    }
}</code></div>
    </div>

    <div class="deep-section">
      <h3>Confirmation Gate (action_gate.rs:42–44)</h3>
      <p>
        Before executing any action, the gate checks the level and trust state:
      </p>
      <div class="code-block"><code>pub async fn requires_confirmation(
    level: ActionLevel,
    action_name: &amp;str,
    trust_state: &amp;TrustTracker,
) -> bool {
    match level {
        // Levels 0–1: always execute
        ActionLevel::Observe | ActionLevel::Annotate => false,

        // Level 2: execute if auto-approved by trust
        ActionLevel::Modify => !trust_state.can_auto_approve(action_name),

        // Levels 3–4: always require confirmation
        ActionLevel::Transmit | ActionLevel::Destruct => true,
    }
}</code></div>
    </div>

    <div class="deep-section">
      <h3>TrustTracker (trust.rs:15–108)</h3>
      <p>
        Tracks per-action trust and determines auto-approval eligibility:
      </p>
      <div class="code-block"><code>pub struct TrustTracker {
    actions: HashMap&lt;String, ActionTrust&gt;,
    persistence_path: PathBuf,
}

pub struct ActionTrust {
    pub consecutive_approvals: u32,
    pub last_rejection: Option&lt;Instant&gt;,
    pub threshold: u32,  // Typically 5
}

impl TrustTracker {
    pub fn record_approval(&amp;mut self, action_name: &amp;str) {
        let action = self.actions.entry(action_name.to_string())
            .or_insert_with(|| ActionTrust {
                consecutive_approvals: 0,
                last_rejection: None,
                threshold: 5,
            });
        action.consecutive_approvals += 1;
        self.save_to_disk().await;
    }

    pub fn record_rejection(&amp;mut self, action_name: &amp;str) {
        if let Some(action) = self.actions.get_mut(action_name) {
            action.consecutive_approvals = 0;
            action.last_rejection = Some(Instant::now());
        }
        self.save_to_disk().await;
    }

    pub fn can_auto_approve(&amp;self, action_name: &amp;str) -> bool {
        self.actions.get(action_name)
            .map(|a| a.consecutive_approvals >= a.threshold)
            .unwrap_or(false)
    }
}</code></div>
    </div>

    <div class="deep-section">
      <h3>Action Type to Level Mapping (security.rs:52–67)</h3>
      <p>
        Every action the user or AI can initiate maps to a specific level:
      </p>
      <table class="const-table">
        <tr><th>Action</th><th>Level</th><th>Description</th></tr>
        <tr><td><code>search_documents</code></td><td>0</td><td>Search workspace documents</td></tr>
        <tr><td><code>open_document</code></td><td>0</td><td>Open a document for reading</td></tr>
        <tr><td><code>list_threads</code></td><td>0</td><td>List all conversation threads</td></tr>
        <tr><td><code>tag_document</code></td><td>1</td><td>Add tag or label to document</td></tr>
        <tr><td><code>bookmark_page</code></td><td>1</td><td>Bookmark a page or section</td></tr>
        <tr><td><code>create_document</code></td><td>2</td><td>Create new document</td></tr>
        <tr><td><code>edit_document</code></td><td>2</td><td>Edit document content</td></tr>
        <tr><td><code>rename_document</code></td><td>2</td><td>Rename document or thread</td></tr>
        <tr><td><code>restore_document</code></td><td>2</td><td>Restore from trash/backup</td></tr>
        <tr><td><code>export_document</code></td><td>3</td><td>Export to file (PDF, email, etc.)</td></tr>
        <tr><td><code>share_document</code></td><td>3</td><td>Share with other users</td></tr>
        <tr><td><code>transmit_message</code></td><td>3</td><td>Send email or message</td></tr>
        <tr><td><code>pair_device</code></td><td>3</td><td>Pair new trusted device</td></tr>
        <tr><td><code>enroll_guardian</code></td><td>3</td><td>Enroll social recovery guardian</td></tr>
        <tr><td><code>delete_document</code></td><td>4</td><td>Delete document (moves to trash)</td></tr>
        <tr><td><code>purge_document</code></td><td>4</td><td>Permanently delete (skip trash)</td></tr>
        <tr><td><code>delete_thread</code></td><td>4</td><td>Delete conversation thread</td></tr>
        <tr><td><code>revoke_guardian</code></td><td>4</td><td>Revoke social recovery guardian</td></tr>
      </table>
    </div>

    <div class="deep-section">
      <h3>Confirmation Flow (orchestrator.rs:474)</h3>
      <p>
        When the AI proposes an action, this flow determines what confirmation (if any) is needed:
      </p>
      <div class="flow-diagram">
User input received
         ↓
Router classifies intent
         ↓
Map intent to action_type
         ↓
Map action_type to ActionLevel
         ↓
check_action_gate(level, trust_state)
         ↓
If level requires confirmation:
  ├─ Show dialog (Level 2: chat, Level 3: explicit, Level 4: modal)
  ├─ Wait for user approval
  ├─ Record approval/rejection in TrustTracker
  └─ If Level 4: add to trash, schedule 30-day purge
         ↓
If user approved:
  ├─ Execute action
  └─ Log to audit trail
         ↓
If user rejected:
  ├─ Return early
  └─ Reset trust counter for that action
      </div>
    </div>

    <div class="deep-section">
      <h3>Trust State Persistence (trust_state.json)</h3>
      <p>
        User trust decisions are saved to disk and loaded on startup, ensuring preferences persist across sessions:
      </p>
      <div class="code-block"><code>{
  "actions": {
    "edit_document": {
      "consecutive_approvals": 5,
      "last_rejection": null,
      "threshold": 5,
      "auto_approved": true
    },
    "create_document": {
      "consecutive_approvals": 3,
      "last_rejection": null,
      "threshold": 5,
      "auto_approved": false
    },
    "delete_document": {
      "consecutive_approvals": 0,
      "last_rejection": "2026-02-22T14:23:00Z",
      "threshold": 5,
      "auto_approved": false
    }
  },
  "last_updated": "2026-02-22T16:45:00Z"
}</code></div>
      <p style="margin-top: 12px;">
        This structure allows Sovereign OS to learn your behavior without requiring re-confirmation for routine actions.
      </p>
    </div>

    <div class="deep-section">
      <h3>Design Principles</h3>
      <p>
        Action Gravity is built on several core principles:
      </p>
      <ul class="concept-list">
        <li><strong>Per-action trust:</strong> Not global. Each action (e.g., "edit document") has its own trust threshold.</li>
        <li><strong>Rejection resets:</strong> One "no" resets the counter to zero. Trust must be re-established.</li>
        <li><strong>Levels 3–4 sacred:</strong> Transmit and Destruct actions never auto-approve, no matter how much trust is built.</li>
        <li><strong>30-day undo window:</strong> All deletions are reversible for 30 days. True permanence requires deliberate purge.</li>
        <li><strong>Transparent thresholds:</strong> Users can see which actions are auto-approved and how close they are to auto-approval.</li>
        <li><strong>Consequence-aware:</strong> Friction scales with consequence. Reading has zero friction. Deletion has maximum friction.</li>
      </ul>
    </div>

  </div>
</section>

  </div>
</main>


<!-- ========== FOOTER ========== -->
<footer role="contentinfo" style="border-top: 1px solid var(--c-border-subtle); padding: 40px 24px; font-size: 0.82rem; color: var(--c-text-dim);">
  <div style="max-width: var(--max-w); margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
    <span>&copy; 2026 Sovereign OS. Licensed under AGPL-3.0. Co-built with <a href="https://claude.ai" target="_blank" rel="noopener">Claude Opus 4.6</a>.</span>
    <div style="display: flex; gap: 20px;">
      <a href="https://github.com/sovereign-os/sovereign" target="_blank" rel="noopener">GitHub</a>
      <a href="https://github.com/sovereign-os/sovereign/wiki" target="_blank" rel="noopener">Docs</a>
    </div>
  </div>
</footer>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Sovereign OS",
      "item": "https://sovereign-os.org/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Action Gravity",
      "item": "https://sovereign-os.org/detail-action-gravity.html"
    }
  ]
}
</script>

</body>
</html>
